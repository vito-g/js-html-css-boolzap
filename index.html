<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <title>JS-HTML-CSS-BOOLZAP</title>
  </head>
  <body>

    <!-- CONTENITORE di Tutto -->
    <div id="sfondo">



      <div id="back-band">
      </div>


      <!-- Contenitore di Visualizzazione di VUE -->
      <div id="root" class="clearfix">


        <!-- ASIDE -->
        <aside class="fl">

          <!-- Aside Top Stripe -->
          <div id="aside-top-stripe">
            <div class="left">
              <div class="square">
                <img :src="user.avatar" alt="">
              </div>
              <div class="name fnt-sz-minor">{{user.name}}</div>
            </div>
            <div class="right">
              <i class="fas fa-circle-notch"></i>
              <i class="fas fa-comment-alt"></i>
              <i class="fas fa-ellipsis-v"></i>
            </div>
          </div>
          <!-- END Aside Top Stripe -->

          <!-- Aside Serving Stripe -->
          <div id="serving-stripe">
            <div id="bell">
              <i class="fas fa-bell-slash"></i>
            </div>
            <div id="serving-text" class="fnt-sz-minor">
              Ricevi notifiche di nuovi messaggi
              <div>
                <a href="#"> Attiva notifiche desktop</a>
              </div>
            </div>
          </div>
          <!-- END Aside Serving Stripe -->

          <!-- Aside Search Stripe -->
          <div id="search-stripe">
            <i class="fas fa-search"></i>
            <input v-model="contactText" @keyup="searchForContactFx" type="search" name="" value="" placeholder="Cerca o inizia una nuova chat">
          </div>
          <!-- END Aside Search Stripe -->

          <!-- Aside Contacts -->
          <div id="contacts">
            <div v-for="(element, index) in contacts" class="single-contact" @click="clickedConversation(index)" v-if="element.visible == true">
              <div class="box-avatar">
                <img :src="element.avatar" alt="">
              </div>
              <div class="name">
                {{element.name}}
              </div>
            </div>
          </div>
          <!-- END Aside Contacts -->

        </aside>
        <!-- END ASIDE -->




        <!-- MAIN -->
        <main class="fl">

          <!-- Main Top -->
          <div id="top">

            <!-- Main Top Stripe -->
            <div class="main-top-stripe">
              <div class="left">
                <div class="square">
                    <img :src="contacts[activeIndex].avatar" alt="">
                </div>
                <div class="name">
                  <!-- {{element.name}} -->
                  {{contacts[activeIndex].name}}
                  <div class="fnt-sz-minor">
                    Ultimo accesso: {{lastAccessFx(activeIndex)}}
                  </div>
                </div>
              </div>
              <div class="right">
                <i class="fas fa-search"></i>
                <i class="fas fa-paperclip"></i>
                <i class="fas fa-ellipsis-v"></i>
              </div>
            </div>
            <!-- END Main Top Stripe -->

            <!-- chat list -->
            <div id="chat-list">
              <div v-for="element in contacts[activeIndex].messages"
              :class="{
                'chat-row sent': (element.status === 'sent'),
                'chat-row received': (element.status === 'received')
              }">
                <div
                :class="{
                'chat-box sent': (element.status === 'sent'),
                'chat-box received': (element.status === 'received')
                }">
                {{element.text}}
                </div>
              </div>
            </div>
            <!-- END chat list -->

          </div>
          <!-- END Main Top -->

          <!-- Main Bottom -->
          <div id="bottom">
            <div class="square">
              <i class="far fa-smile"></i>
            </div>
            <div class="msg-box">
              <input v-model="message" type="search" name="" value="" placeholder="Scrivi un messaggio" @keyup.enter="sendMessageFx(activeIndex)">
            </div>
            <div class="square">
              <i class="fas fa-microphone"></i>
            </div>
          </div>
          <!-- END Main Bottom -->

        </main>
        <!-- END MAIN -->


      </div>
      <!-- END Contenitore di Visualizzazione di VUE -->



    </div>
    <!-- END CONTENITORE di Tutto -->


    <script src="js/script.js" charset="utf-8"></script>

  </body>
</html>
